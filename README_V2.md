# Fact-Checking Bot v2.0 - –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

–£–º–Ω—ã–π –±–æ—Ç –¥–ª—è —Ñ–∞–∫—Ç—á–µ–∫–∏–Ω–≥–∞ —Å –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º –∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º.

## üéØ –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è v2.0

### –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
1. **–≠–¢–ê–ü 1**: –ê–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Üí –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
2. **–≠–¢–ê–ü 2**: –§–∞–∫—Ç—á–µ–∫–∏–Ω–≥ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
```
üìù "Discord –æ–±—ä—è–≤–∏–ª –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –ò–ò-–º–æ–¥–µ—Ä–∞—Ü–∏–∏"

üîç –≠–¢–ê–ü 1: –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  ‚Üí –û–ø—Ä–µ–¥–µ–ª–µ–Ω–æ: –∫–æ–º–ø–∞–Ω–∏—è "Discord"
  ‚Üí –í—ã–±—Ä–∞–Ω—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∏: blog.discord.com, discord.com, techcrunch.com
  ‚Üí –í—Ä–µ–º—è: 0.8—Å

üìä –≠–¢–ê–ü 2: –§–∞–∫—Ç—á–µ–∫–∏–Ω–≥
  ‚Üí –ü–æ–∏—Å–∫ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
  ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏
  ‚Üí –í—Ä–µ–º—è: 2.1—Å

‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–æ–≤–æ—Å—Ç–∏ | –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
```

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```
app_v2.py                    # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
src/
‚îú‚îÄ‚îÄ two_stage_filter.py      # –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π —Ñ–∞–∫—Ç—á–µ–∫–µ—Ä 
‚îú‚îÄ‚îÄ simple_filter.py        # –ü—Ä–æ—Å—Ç–æ–π —Ñ–∏–ª—å—Ç—Ä (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
‚îú‚îÄ‚îÄ debug_processor.py      # –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä —Å –æ—Ç–ª–∞–¥–∫–æ–π
‚îú‚îÄ‚îÄ sources_config.py       # –°–∏—Å—Ç–µ–º–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚îú‚îÄ‚îÄ telegram_client.py      # Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### –î–≤–∞ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞ –≤—ã–±–æ—Ä:

#### 1. TwoStageFilter (—É–º–Ω—ã–π)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### 2. SimpleFilter (–ø—Ä–æ—Å—Ç–æ–π) 
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ø–∞–º
- –ú–∏–Ω–∏–º—É–º –Ω–∞—Å—Ç—Ä–æ–µ–∫

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### .env —Ñ–∞–π–ª:
```env
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TELEGRAM_API_ID=21562130
TELEGRAM_API_HASH=***REMOVED***_TELEGRAM_API_HASH
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á
CHANNELS=@dvachannel
TARGET_CHAT_ID=52085530

# –§–∞–∫—Ç—á–µ–∫–∏–Ω–≥
GPT_MODEL=gpt-5
FACT_CHECK_MODE=smart
MAX_SOURCE_DOMAINS=20

# –û—Ç–ª–∞–¥–∫–∞
DEBUG_MODE=true
SHOW_ALL_MESSAGES=true
SEND_DEBUG_INFO=true
```

### –†–µ–∂–∏–º—ã –æ—Ç–ª–∞–¥–∫–∏:

#### DEBUG_MODE=true
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

#### SHOW_ALL_MESSAGES=true  
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è (–≤–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ)
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

#### SEND_DEBUG_INFO=true
- –î–æ–±–∞–≤–ª—è–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ Telegram
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –≤—Ä–µ–º—è, –ª–æ–≥–∏–∫—É

## üöÄ –ó–∞–ø—É—Å–∫

### –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
source venv/bin/activate
python app_v2.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –¢–µ—Å—Ç –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
python test_two_stage.py

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º
python compare_filters.py
```

## üîß Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç:

```
üì¢ Test Channel | üì∞ –ù–û–í–û–°–¢–ò

ü§ñ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

üìù –°–æ–æ–±—â–µ–Ω–∏–µ:
Discord –æ–±—ä—è–≤–∏–ª –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –ò–ò-–º–æ–¥–µ—Ä–∞—Ü–∏–∏

üîß DEBUG INFO:
‚è±Ô∏è –≠—Ç–∞–ø 1: 0.85—Å | –≠—Ç–∞–ø 2: 2.14—Å  
üåê –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤: 20
üìã –ò—Å—Ç–æ—á–Ω–∏–∫–∏: blog.discord.com, discord.com, techcrunch.com –∏ –µ—â—ë 17
üí≠ –õ–æ–≥–∏–∫–∞: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏ Discord –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
üö© –§–ª–∞–≥–∏: üîç –≤–µ–±-–ø–æ–∏—Å–∫
```

## üéõ –†–µ–∂–∏–º—ã —Ñ–∞–∫—Ç—á–µ–∫–∏–Ω–≥–∞

### smart (—É–º–Ω—ã–π) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
- –£–º–Ω—ã–π –≤—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤

### strict (—Å—Ç—Ä–æ–≥–∏–π)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- –ü–æ–º–µ—á–∞–µ—Ç –¥–∞–∂–µ –º–∞–ª–µ–π—à–∏–µ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏
- –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

### permissive (—Å–Ω–∏—Å—Ö–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π)
- –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —è–≤–Ω—ã–π —Å–ø–∞–º
- –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –î–ª—è —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —ç—Ç–∞–ø–æ–≤

### –≠–¢–ê–ü 1: –í—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–í—Ö–æ–¥**: "Apple –≤—ã–ø—É—Å—Ç–∏–ª–∞ –Ω–æ–≤—ã–π iPhone 16"

**–ê–Ω–∞–ª–∏–∑ GPT**:
```json
{
  "topic_type": "company",
  "mentioned_companies": ["Apple"],
  "recommended_categories": ["technology"],
  "reasoning": "–ù–æ–≤–æ—Å—Ç—å –æ –ø—Ä–æ–¥—É–∫—Ç–µ Apple, –Ω—É–∂–Ω—ã –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏"
}
```

**–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏**: apple.com, developer.apple.com, techcrunch.com, theverge.com...

### –≠–¢–ê–ü 2: –§–∞–∫—Ç—á–µ–∫–∏–Ω–≥

**–ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º** ‚Üí **–ê–Ω–∞–ª–∏–∑ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** ‚Üí **–í—ã–≤–æ–¥**

```json
{
  "category": "–Ω–æ–≤–æ—Å—Ç–∏",
  "is_questionable": false,
  "comment": "",
  "sources_checked": ["apple.com", "techcrunch.com"]
}
```

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–≥–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
```python
from src.two_stage_filter import TwoStageFilter
filter = TwoStageFilter()
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ:
```python
from src.simple_filter import SimpleFilter
filter = SimpleFilter()
```

### –ü—Ä–æ—Å—Ç–æ–π —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏:
```python
custom_sources = ["reuters.com", "bbc.com", "your-site.com"]
filter = SimpleFilter(sources=custom_sources)
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä:
- –í—Ä–µ–º—è: 2-4 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –¢–æ—á–Ω–æ—Å—Ç—å: ~90% (–±–ª–∞–≥–æ–¥–∞—Ä—è —É–º–Ω–æ–º—É –≤—ã–±–æ—Ä—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏: –¥–æ 20 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

### –ü—Ä–æ—Å—Ç–æ–π —Ñ–∏–ª—å—Ç—Ä:
- –í—Ä–µ–º—è: 1-2 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ  
- –¢–æ—á–Ω–æ—Å—Ç—å: ~80% (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏: 10 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ï—Å–ª–∏ GPT-5 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ GPT-4o
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏

### –ï—Å–ª–∏ –≤–µ–±-–ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á OpenAI
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –±–µ–∑ –≤–µ–±-–ø–æ–∏—Å–∫–∞

### –î–ª—è –æ—Ç–ª–∞–¥–∫–∏:
1. –í–∫–ª—é—á–∏—Ç–µ `DEBUG_MODE=true`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `fact_checker_v2.log`
3. –°–º–æ—Ç—Ä–∏—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∞–ø–æ–≤

## üìã TODO –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏

- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–µ–±-–ø–æ–∏—Å–∫–∞
- [ ] –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ API
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- [ ] Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

**Fact-Checking Bot v2.0** - —É–º–Ω–µ–µ, –±—ã—Å—Ç—Ä–µ–µ, —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º! üöÄ