# Enhanced Telegram Fact-Checking Bot

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä –¥–ª—è Telegram-–∫–∞–Ω–∞–ª–æ–≤ —Å —É–º–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ GPT-5.

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ v2.0

### üß† –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä** –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–π
- **–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏** –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º  
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –¥–æ–º–µ–Ω–æ–≤ –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### üéØ –ü—Ä–∏–º–µ—Ä—ã —É–º–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞:

**Discord-–Ω–æ–≤–æ—Å—Ç–∏** ‚Üí `blog.discord.com`, `discord.com`, `techcrunch.com`
**–§–∏–Ω–∞–Ω—Å—ã** ‚Üí `bloomberg.com`, `reuters.com`, `cbr.ru`
**–ù–∞—É–∫–∞** ‚Üí `nature.com`, `pubmed.ncbi.nlm.nih.gov`, `who.int`

### ‚öôÔ∏è –†–µ–∂–∏–º—ã —Ñ–∞–∫—Ç—á–µ–∫–∏–Ω–≥–∞

- **`smart`** (—É–º–Ω—ã–π) - –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
- **`strict`** (—Å—Ç—Ä–æ–≥–∏–π) - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, –ø–æ–º–µ—á–∞–µ—Ç –¥–∞–∂–µ –º–∞–ª–µ–π—à–∏–µ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏
- **`permissive`** (—Å–Ω–∏—Å—Ö–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π) - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —è–≤–Ω—ã–π —Å–ø–∞–º

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ app.py                  # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ enhanced_filter.py # –£–º–Ω—ã–π —Ñ–∞–∫—Ç—á–µ–∫–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ sources_config.py  # –°–∏—Å—Ç–µ–º–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ telegram_client.py # Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ message_processor.py
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ demo_enhanced.py       # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ sources.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo>
cd fact-checking-tg

# 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (.env)
```env
# Telegram API
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_BOT_TOKEN=your_bot_token

# OpenAI API
OPENAI_API_KEY=your_openai_key

# –ö–∞–Ω–∞–ª—ã –∏ —á–∞—Ç
CHANNELS=@channel1,@channel2
TARGET_CHAT_ID=your_chat_id

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GPT_MODEL=gpt-5
FACT_CHECK_MODE=smart
MAX_SOURCE_DOMAINS=20
ENABLE_AUTO_SOURCES=true
```

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ (sources.json)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:
- **general_news** - –æ–±—â–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ (Reuters, BBC, –†–ë–ö...)
- **technology** - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ + –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã –∫–æ–º–ø–∞–Ω–∏–π
- **finance** - —Ñ–∏–Ω–∞–Ω—Å—ã (Bloomberg, WSJ...)
- **science** - –Ω–∞—É–∫–∞ (Nature, PubMed...)
- **entertainment** - —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è (Variety, IMDb...)

## üöÄ –ó–∞–ø—É—Å–∫

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
```bash
python demo_enhanced.py
```

### –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
python app.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python tests/test_enhanced_system.py
```

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–º–Ω—ã–π –≤—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 1. –ê–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
```python
# –ü—Ä–∏–º–µ—Ä: "Discord –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é"
sources = [
    "blog.discord.com",      # –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –±–ª–æ–≥
    "discord.com",           # –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç  
    "support.discord.com",   # –ü–æ–¥–¥–µ—Ä–∂–∫–∞
    "techcrunch.com",        # –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
    "theverge.com",          # –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –°–ú–ò
    # + –æ–±—â–∏–µ –Ω–æ–≤–æ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
]
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
```python
# –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã –¥–ª—è:
companies = {
    "discord": ["blog.discord.com", "discord.com"],
    "google": ["blog.google.com", "support.google.com"],
    "microsoft": ["microsoft.com", "techcommunity.microsoft.com"],
    # ... –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ
}
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- –ú–∞–∫—Å–∏–º—É–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: `MAX_SOURCE_DOMAINS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã ‚Üí —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ ‚Üí –æ–±—â–∏–µ

## üìä API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

```python
from src.enhanced_filter import EnhancedOpenAIFilter

filter_ai = EnhancedOpenAIFilter()

# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫
filter_ai.add_custom_source("gaming", "ign.com", "Gaming news")

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
stats = filter_ai.get_source_stats()

# –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è —Ç–µ–º—ã
sources = filter_ai.sources.get_sources_for_topic("Apple –≤—ã–ø—É—Å—Ç–∏–ª–∞ –Ω–æ–≤—ã–π iPhone")
```

## üîß –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
```json
{
  "crypto": {
    "description": "–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏",
    "domains": [
      "coindesk.com",
      "cointelegraph.com", 
      "decrypt.co",
      "bitcoin.org"
    ]
  }
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∂–∏–º–æ–≤
```env
# –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –¥–ª—è –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
FACT_CHECK_MODE=strict

# –°–Ω–∏—Å—Ö–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –¥–ª—è —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö
FACT_CHECK_MODE=permissive
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã

```
üì¢ **Tech News** | üìÇ –Ω–æ–≤–æ—Å—Ç–∏

ü§ñ *–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏*

Discord –æ–±—ä—è–≤–∏–ª–∞ –æ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ —Å –ò–ò-–º–æ–¥–µ—Ä–∞—Ü–∏–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–ò—Å—Ç–æ—á–Ω–∏–∫–∏: blog.discord.com, techcrunch.com
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å –≤–µ—Ä—Å–∏–∏ 1.0

1. –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ `.env`
2. –û–±–Ω–æ–≤–∏—Ç–µ import'—ã –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–¥–µ:
   ```python
   # –°—Ç–∞—Ä—ã–π –∫–æ–¥
   from openai_filter import OpenAIFilter
   
   # –ù–æ–≤—ã–π –∫–æ–¥  
   from src.enhanced_filter import EnhancedOpenAIFilter
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `python app.py`

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~3-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- **–¢–æ—á–Ω–æ—Å—Ç—å**: ~85% –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å–ø–∞–º–∞
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: –¥–æ 50+ –¥–æ–º–µ–Ω–æ–≤ –≤ –±–∞–∑–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –¥–æ 100 –∫–∞–Ω–∞–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –ü—Ä–æ–±–ª–µ–º—ã: —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub
- –í–æ–ø—Ä–æ—Å—ã: –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ FAQ –≤ Wiki
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: Pull Request –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è

---

**Enhanced Fact-Checking Bot v2.0** - —É–º–Ω–µ–µ, –±—ã—Å—Ç—Ä–µ–µ, —Ç–æ—á–Ω–µ–µ! üöÄ