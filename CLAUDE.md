Я хочу создать программу на Python 3, которая будет мониторить несколько Telegram-каналов (список каналов передаётся на вход, пример: @dvachannel (http://t.me/dvachannel/)), фильтровать откровенный мусор и сортировать сообщения по категориям (например, новости, развлечения).
Анализ сообщения ОБЯЗАТЕЛЬНО должен проходить через OpenAI API с отдельным промтом для фактчекинга. Для каждого сообщения система должна максимально однозначно определять: "фигня это пост или нет".
- Если пост признан фигнёй, просто скрыть его.
- Если определение спорное, добавить короткое примечание от GPT.
Всё должно быть лаконично: минимум вывода, только суть — чтобы читать меньше, а не больше. Форматирование сообщений и медиавложений должно сохраняться.
Основная задача — реализовать фильтр, который помогает избавляться от спама, недостоверных фактов, рекламы и потоков ненужных сообщений. Отфильтрованные и отсортированные сообщения должны выводиться в виде отправки ботом Telegram удобным способом.
Дополненный чек-лист этапов выполнения задачи:
1. Сбор входных данных: получение и валидация списка каналов.
2. Создание подключения и настройка мониторинга выбранных Telegram-каналов.
3. Импорт и первичная обработка сообщений с каналов (например, удаление дубликатов, базовая очистка текста, копирование формата и медиа).
4. Реализация продвинутого фильтра полученных сообщений (мусор, спам, реклама, недостоверные факты, нерелевантные категории) с использованием OpenAI API. Для фактчекинга используем отдельный промт.
5. Классификация сообщений по категориям (например, новости, развлечения, другое).
6. Вывод отфильтрованных и отсортированных сообщений в выбранном формате (структурировано/таблично) через Telegram-бота.
7. Проверка качества работы фильтров и категорий (вручную или тестовыми данными), необходимые корректировки.
После каждого существенного изменения кода или использования внешних инструментов выполняй валидацию результата в 1–2 фразах и, если это необходимо, прими меры по исправлению. Если используется код, обязательно обозначь исходные допущения, оформи минимальные тесты (или укажи, что тесты гипотетические), и предоставь удобный для просмотра diff по изменениям в коде. Следуй принятому стилю оформления.
Если результат выводится в структурированном формате, явно укажи # Output Format со всеми ключами и типами в примере, чтобы исключить неоднозначность для пользователя.

После отдельных этапов делай обязательно коммит
